{"version":3,"sources":["webpack:///./src/views/Components/CountTo/CountTo.vue?762e","webpack:///./src/views/Components/CountTo/CountTo.vue","webpack:///./src/views/Components/CountTo/CountTo.vue?8658","webpack:///./src/views/Components/CountTo/index.vue","webpack:///./src/views/Components/CountTo/index.vue?f799","webpack:///./src/views/Components/CountTo/index.vue?013c","webpack:///./src/views/Components/CountTo/requestAnimationFrame.ts"],"names":["_hoisted_1","class","_defineComponent","__name","props","from","type","Number","required","default","to","duration","autoplay","Boolean","decimals","validator","value","decimal","String","separator","prefix","suffix","setup","__props","countDown","computed","isNumber","val","isNaN","parseFloat","formatNumber","data","num","toFixed","x","split","x1","x2","length","rgx","test","replace","start","rAF","requestAnimationFrame","count","time","startTime","progress","printVal","displayValue","ref","onMounted","onUnmounted","cancelAnimationFrame","_ctx","_cache","_openBlock","_createElementBlock","_toDisplayString","__exports__","text","instance","getCurrentInstance","request","appContext","config","globalProperties","$axios","method","url","then","res","catch","error","console","log","_component_el_divider","_resolveComponent","_component_v_md_editor","_createElementVNode","_createVNode","CountTo","modelValue","$event","mode","lastTime","window","prefixes","i","callback","currTime","Date","getTime","timeToCall","Math","max","id","setTimeout","clearTimeout"],"mappings":"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","file":"js/chunk-aadee75a.bc23e3c3.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./CountTo.vue?vue&type=style&index=0&id=7289e374&scoped=true&lang=scss\"","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7289e374\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"count-to\" }\n\nimport { onUnmounted, ref, computed, onMounted, Ref } from \"vue\";\r\nimport {\r\n  requestAnimationFrame,\r\n  cancelAnimationFrame,\r\n} from \"./requestAnimationFrame\";\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'CountTo',\n  props: {\r\n  // 开始值\r\n  from: {\r\n    type: Number,\r\n    required: false,\r\n    default: 0,\r\n  },\r\n  // 结束值\r\n  to: {\r\n    type: Number,\r\n    required: false,\r\n    default: 100,\r\n  },\r\n  // 持续时间，毫秒为单位\r\n  duration: {\r\n    type: Number,\r\n    required: false,\r\n    default: 3000,\r\n  },\r\n  // 自动播放\r\n  autoplay: {\r\n    type: Boolean,\r\n    required: false,\r\n    default: true,\r\n  },\r\n  // 显示小数位数\r\n  decimals: {\r\n    type: Number,\r\n    required: false,\r\n    default: 0,\r\n    validator(value: number) {\r\n      return value >= 0;\r\n    },\r\n  },\r\n  // 十进制分割\r\n  decimal: {\r\n    type: String,\r\n    required: false,\r\n    default: \".\",\r\n  },\r\n  // 分隔符\r\n  separator: {\r\n    type: String,\r\n    required: false,\r\n    default: \",\",\r\n  },\r\n  // 前缀\r\n  prefix: {\r\n    type: String,\r\n    required: false,\r\n    default: \"\",\r\n  },\r\n  // 后缀\r\n  suffix: {\r\n    type: String,\r\n    required: false,\r\n    default: \"\",\r\n  },\r\n},\n  setup(__props) {\n\nconst props = __props;\n\r\n\r\n\r\n// 是否为倒数，即数字从 大 -> 小\r\nconst countDown = computed(() => props.from > props.to);\r\n\r\n/**\r\n * 判断是否为数字\r\n */\r\nconst isNumber = (val: string) => {\r\n  return !isNaN(parseFloat(val));\r\n};\r\n\r\n/**\r\n *  格式化数据\r\n */\r\nconst formatNumber = (data: number) => {\r\n  let num = data.toFixed(props.decimals);\r\n  num += \"\";\r\n  const x = num.split(\".\");\r\n  let x1 = x[0];\r\n  const x2 = x.length > 1 ? props.decimal + x[1] : \"\";\r\n  const rgx = /(\\d+)(\\d{3})/;\r\n  if (props.separator && !isNumber(props.separator)) {\r\n    while (rgx.test(x1)) {\r\n      x1 = x1.replace(rgx, \"$1\" + props.separator + \"$2\");\r\n    }\r\n  }\r\n  return props.prefix + x1 + x2 + props.suffix;\r\n};\r\n\r\n/**\r\n * 开始滚动动画\r\n */\r\nconst start = () => {\r\n  rAF.value = requestAnimationFrame(count);\r\n};\r\n\r\n/**\r\n * time: 下次动画时间(毫秒)\r\n */\r\nconst count = (time: number) => {\r\n  if (!startTime.value) startTime.value = time;\r\n  const progress = time - startTime.value; // 进度\r\n  let printVal = 0;\r\n  if (countDown.value) {\r\n    printVal =\r\n      props.from - (props.from - props.to) * (progress / props.duration);\r\n  } else {\r\n    printVal =\r\n      props.from + (props.to - props.from) * (progress / props.duration);\r\n  }\r\n\r\n  // 比较当前值与结束值\r\n  if (countDown.value) {\r\n    printVal = printVal < props.to ? props.to : printVal;\r\n  } else {\r\n    printVal = printVal > props.to ? props.to : printVal;\r\n  }\r\n\r\n  displayValue.value = formatNumber(printVal);\r\n  if (progress < props.duration) {\r\n    rAF.value = requestAnimationFrame(count);\r\n  }\r\n};\r\n\r\nconst displayValue: Ref = ref(formatNumber(props.from));\r\nconst rAF: Ref = ref(null);\r\nconst startTime: Ref = ref(null);\r\n\r\nonMounted(() => {\r\n  if (props.autoplay) {\r\n    start();\r\n  }\r\n});\r\n\r\nonUnmounted(() => {\r\n  cancelAnimationFrame(rAF.value);\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"span\", _hoisted_1, _toDisplayString(displayValue.value), 1))\n}\n}\n\n})","import script from \"./CountTo.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./CountTo.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./CountTo.vue?vue&type=style&index=0&id=7289e374&scoped=true&lang=scss\"\n\nimport exportComponent from \"E:\\\\Gitee Repository\\\\pursue-dreams\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7289e374\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-04ff15ca\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"count-to\" }\n\nimport CountTo from \"./CountTo.vue\";\r\nimport { onMounted, ref, getCurrentInstance, Ref } from \"vue\";\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\r\nconst text: Ref = ref(\"\");\r\nconst instance = getCurrentInstance();\r\nconst request = instance?.appContext.config.globalProperties.$axios;\r\nonMounted(() => {\r\n  request({\r\n    method: \"get\",\r\n    url: `${process.env.VUE_APP_PLULIC_PATH}posts/components/CountTo.md`,\r\n  })\r\n    .then((res: unknown) => {\r\n      text.value = res;\r\n    })\r\n    .catch((error: unknown) => {\r\n      console.log(error);\r\n    });\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_divider = _resolveComponent(\"el-divider\")!\n  const _component_v_md_editor = _resolveComponent(\"v-md-editor\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"ul\", null, [\n      _createElementVNode(\"li\", null, [\n        _createVNode(CountTo, { to: 100 })\n      ]),\n      _createElementVNode(\"li\", null, [\n        _createVNode(CountTo, { to: 200 })\n      ]),\n      _createElementVNode(\"li\", null, [\n        _createVNode(CountTo, { to: 300 })\n      ])\n    ]),\n    _createVNode(_component_el_divider),\n    _createVNode(_component_v_md_editor, {\n      modelValue: text.value,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((text).value = $event)),\n      mode: \"preview\"\n    }, null, 8, [\"modelValue\"])\n  ]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=04ff15ca&scoped=true&lang=scss\"\n\nimport exportComponent from \"E:\\\\Gitee Repository\\\\pursue-dreams\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-04ff15ca\"]])\n\nexport default __exports__","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=04ff15ca&scoped=true&lang=scss\"","let lastTime = 0;\r\nlet requestAnimationFrame: any;\r\nlet cancelAnimationFrame: any;\r\n\r\nif (typeof window === \"undefined\") {\r\n  requestAnimationFrame = function () {\r\n    return;\r\n  };\r\n  cancelAnimationFrame = function () {\r\n    return;\r\n  };\r\n} else {\r\n  const prefixes = [\"webkit\", \"moz\", \"ms\", \"o\"];\r\n  requestAnimationFrame = window.requestAnimationFrame;\r\n  cancelAnimationFrame = window.cancelAnimationFrame;\r\n  let prefix;\r\n  // 通过遍历各浏览器前缀，来得到requestAnimationFrame和cancelAnimationFrame在当前浏览器的实现形式\r\n  for (let i = 0; i < prefixes.length; i++) {\r\n    if (!!requestAnimationFrame && !!cancelAnimationFrame) {\r\n      break;\r\n    }\r\n    prefix = prefixes[i];\r\n    requestAnimationFrame =\r\n      requestAnimationFrame ||\r\n      (window as any)[`${prefix}RequestAnimationFrame`];\r\n\r\n    cancelAnimationFrame =\r\n      cancelAnimationFrame ||\r\n      (window as any)[`${prefix}CancelAnimationFrame`] ||\r\n      (window as any)[`${prefix}CancelRequestAnimationFrame`];\r\n  }\r\n\r\n  // 如果当前浏览器不支持requestAnimationFrame和cancelAnimationFrame，则会退到setTimeout\r\n  if (!requestAnimationFrame || !cancelAnimationFrame) {\r\n    requestAnimationFrame = function (callback: FrameRequestCallback) {\r\n      const currTime = new Date().getTime();\r\n      // 为了使setTimteout的尽可能的接近每秒60帧的效果\r\n      const timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n      const id = window.setTimeout(() => {\r\n        callback(currTime + timeToCall);\r\n      }, timeToCall);\r\n      lastTime = currTime + timeToCall;\r\n      return id;\r\n    };\r\n\r\n    cancelAnimationFrame = function (id: number) {\r\n      window.clearTimeout(id);\r\n    };\r\n  }\r\n}\r\n\r\nexport { requestAnimationFrame, cancelAnimationFrame };\r\n"],"sourceRoot":""}