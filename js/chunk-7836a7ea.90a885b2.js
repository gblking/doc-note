(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7836a7ea"],{5051:function(e,t,o){"use strict";o.r(t);var r=o("7a23"),n=o("bd08"),i=o("86d5"),s=o.n(i);const c={class:"container"},a={class:"magnifler-container"},l={class:"table"},d={class:"tips pd10 fz13"};var p=Object(r["defineComponent"])({__name:"index",setup(e){const t=Object(r["ref"])(""),o=Object(r["getCurrentInstance"])(),i=null===o||void 0===o?void 0:o.appContext.config.globalProperties.$axios,p={src:s.a,srcLarge:s.a},u=[{prop:"src",describe:"缩略图地址",type:"string",default:"-"},{prop:"srcLarge",describe:"高清图地址",type:"string",default:"-"},{prop:"width",describe:"放大镜宽度",type:"number",default:200},{prop:"height",describe:"放大镜高度",type:"number",default:200},{prop:"borderSize",describe:"放大镜边框尺寸",type:"number",default:2},{prop:"borderColor",describe:"放大镜边框颜色",type:"string",default:"#666"},{prop:"shape",describe:"放大镜形状(circular 圆形 / square 方形)",type:"string",default:"circular"}];return Object(r["onMounted"])(()=>{i({method:"get",url:"/pursue-dreams/posts/arctive/20211214-vue-magnifier放大镜组件.md"}).then(e=>{t.value=e.replace(/{{VUE_APP_PLULIC_PATH}}/g,"/pursue-dreams/")}).catch(e=>{console.log(e)})}),(e,o)=>{const i=Object(r["resolveComponent"])("svg-icon"),s=Object(r["resolveComponent"])("el-table-column"),h=Object(r["resolveComponent"])("el-table"),m=Object(r["resolveComponent"])("v-md-editor");return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createElementVNode"])("div",c,[Object(r["createElementVNode"])("div",a,[Object(r["createVNode"])(n["default"],{options:p})]),Object(r["createElementVNode"])("div",l,[Object(r["createElementVNode"])("div",d,[Object(r["createVNode"])(i,{iconClass:"like"}),Object(r["createTextVNode"])(" 父组件引入该组件使用，父组件需要设置宽高，否则图片不显示 ")]),Object(r["createVNode"])(h,{data:u,border:"",style:{width:"100%"}},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(s,{prop:"prop",label:"属性"}),Object(r["createVNode"])(s,{prop:"describe",label:"描述"}),Object(r["createVNode"])(s,{prop:"type",label:"类型"}),Object(r["createVNode"])(s,{prop:"default",label:"默认值"})]),_:1})])]),Object(r["createVNode"])(m,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=e=>t.value=e),mode:"preview"},null,8,["modelValue"])],64)}}}),u=(o("ea07"),o("6b0d")),h=o.n(u);const m=h()(p,[["__scopeId","data-v-1010073e"]]);t["default"]=m},"63b8":function(e,t,o){"use strict";o("f5d4")},"86d5":function(e,t,o){e.exports=o.p+"img/bg.47e3f11b.jpg"},ab06:function(e,t,o){},bd08:function(e,t,o){"use strict";o.r(t);var r=o("7a23");const n={class:"magnifier-component"},i={key:0,class:"info"};function s(e,t,o,s,c,a){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",n,[e.error?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",i,"src 和 srcLarge不能为空，请检查!")):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:1,ref:"magnificationElement",class:"preview",style:Object(r["normalizeStyle"])({backgroundImage:"url("+e.option.src+")"})},[Object(r["createElementVNode"])("div",{ref:"glass",class:"magnifying-glass",style:Object(r["normalizeStyle"])(a.styleLarge)},null,4)],4))])}o("14d9");var c={name:"Magnifier",props:{options:{type:Object}},computed:{styleLarge(){return{backgroundImage:"url("+this.option.srcLarge+")",backgroundPosition:this.backgroundPos,left:this.cursorX+"px",top:this.cursorY+"px",width:this.option.width+"px",height:this.option.height+"px",borderRadius:"square"===this.option.shape?"0px":"50%",transform:"translate("+-1*this.option.width/2+"px,"+-1*this.option.width/2+"px)",border:`${this.option.borderSize}px solid ${this.option.borderColor}`}}},data:function(){return{bounds:null,cursorX:0,cursorY:0,thumbPos:{x:0,y:0},backgroundPos:"0 0",largeWidth:null,largeHeight:null,ProportionX:null,ProportionY:null,option:{width:200,height:200,src:"",srcLarge:"",shape:"circular",borderSize:2,borderColor:"#666"},error:!1}},mounted(){this.options.src&&this.options.srcLarge?(this.option={...this.option,...this.options},this.$nextTick(()=>{this.$refs.magnificationElement.addEventListener("mousemove",this.moveMagnifier)}),this.getImgSize()):this.error=!0},methods:{getImgSize(){const e=document.createElement("img");e.src=this.option.srcLarge,e.complete?(this.largeWidth=e.width,this.largeHeight=e.height):e.onload=()=>{this.largeWidth=e.width,this.largeHeight=e.height}},getImgProp(e,t){this.ProportionX=this.largeWidth/e,this.ProportionY=this.largeHeight/t},getCursorPos:function(e){var t=window.Event?e.pageX:event.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),o=window.Event?e.pageY:event.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);this.cursorX=t-this.thumbPos.x,this.cursorY=o-this.thumbPos.y},getBounds:function(){var e=this.$refs.magnificationElement;this.bounds=e.getBoundingClientRect(),this.getImgProp(this.bounds.width,this.bounds.height);var t=0,o=0;while(e){var r=this.getTransform(e);if("BODY"===e.tagName){var n=e.scrollLeft||document.documentElement.scrollLeft,i=e.scrollTop||document.documentElement.scrollTop;t+=e.offsetLeft-n+e.clientLeft+parseInt(r[0]),o+=e.offsetTop-i+e.clientTop+parseInt(r[1])}else t+=e.offsetLeft-e.scrollLeft+e.clientLeft+parseInt(r[0]),o+=e.offsetTop-e.scrollTop+e.clientTop+parseInt(r[1]);e=e.offsetParent}this.thumbPos={x:t,y:o}},moveMagnifier:function(e){e.preventDefault(),this.getBounds(),this.getCursorPos(e),this.backgroundPos=`${this.cursorX*this.ProportionX*-1+this.option.width/2}px ${this.cursorY*this.ProportionY*-1+this.option.height/2}px`},getTransform:function(e){var t=window.getComputedStyle(e,null).getPropertyValue("-webkit-transform");function o(e){var t;if("none"!==e){var o=e.split("(")[1].split(")")[0].split(","),r=o[0],n=o[1];t=Math.round(Math.atan2(n,r)*(180/Math.PI))}else t=0;return t<0?t+=360:t}var r=t.match(/matrix(?:(3d)\(-{0,1}\d+\.?\d*(?:, -{0,1}\d+\.?\d*)*(?:, (-{0,1}\d+\.?\d*))(?:, (-{0,1}\d+\.?\d*))(?:, (-{0,1}\d+\.?\d*)), -{0,1}\d+\.?\d*\)|\(-{0,1}\d+\.?\d*(?:, -{0,1}\d+\.?\d*)*(?:, (-{0,1}\d+\.?\d*))(?:, (-{0,1}\d+\.?\d*))\))/),n=[0,0,0];return r&&("3d"===r[1]?n=r.slice(2,5):(r.push(0),n=r.slice(5,9)),n.push(o(t))),n}}},a=(o("63b8"),o("6b0d")),l=o.n(a);const d=l()(c,[["render",s],["__scopeId","data-v-7425e3a8"]]);t["default"]=d},ea07:function(e,t,o){"use strict";o("ab06")},f5d4:function(e,t,o){}}]);
//# sourceMappingURL=chunk-7836a7ea.90a885b2.js.map